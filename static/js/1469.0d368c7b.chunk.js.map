{"version":3,"file":"static/js/1469.0d368c7b.chunk.js","mappings":"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","sources":["chart/LotChart.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\r\nimport { lotLayer } from '../layers';\r\nimport { view } from '../Scene';\r\nimport FeatureFilter from '@arcgis/core/layers/support/FeatureFilter';\r\nimport Query from '@arcgis/core/rest/support/Query';\r\nimport * as am5 from '@amcharts/amcharts5';\r\nimport * as am5xy from '@amcharts/amcharts5/xy';\r\nimport * as am5percent from '@amcharts/amcharts5/percent';\r\nimport am5themes_Animated from '@amcharts/amcharts5/themes/Animated';\r\nimport am5themes_Responsive from '@amcharts/amcharts5/themes/Responsive';\r\nimport {\r\n  generateLotData,\r\n  generateLotMoaData,\r\n  generateLotNumber,\r\n  generatePermitEnter,\r\n  thousands_separators,\r\n} from '../components/Query';\r\nimport '../App.css';\r\n\r\nconst statusLot: string[] = [\r\n  'Handed-Over',\r\n  'Paid',\r\n  'For Payment Processing',\r\n  'For Legal Pass',\r\n  'For Appraisal/Offer to Buy',\r\n  'For Expro',\r\n];\r\n\r\nconst statusMOA = ['For Negotiation', 'Expropriation', 'Donation', 'CA 141', 'No Need to Acquire'];\r\n\r\n//https://codesandbox.io/s/amcharts5-react-demo-forked-gid7b0?from-embed=&file=/src/App.js:271-276\r\n// https://github.com/reactchartjs/react-chartjs-2/blob/master/src/chart.tsx\r\n//https://www.reddit.com/r/reactjs/comments/gr5vhh/react_hooks_and_amcharts4/?rdt=56344\r\n//https://medium.com/swlh/how-to-use-amcharts-4-with-react-hooks-999a62c185a5\r\n//https://codesandbox.io/s/amcharts5-react-demo-forked-hrth2d\r\n\r\n// Dispose function\r\nfunction maybeDisposeRoot(divId: any) {\r\n  am5.array.each(am5.registry.rootElements, function (root) {\r\n    if (root.dom.id === divId) {\r\n      root.dispose();\r\n    }\r\n  });\r\n}\r\n\r\n///*** Others */\r\n/// Draw chart\r\nconst LotChart = ({ municipal, barangay }: any) => {\r\n  // 1. Land Acquisition\r\n  const pieSeriesRef = useRef<unknown | any | undefined>({});\r\n  const legendRef = useRef<unknown | any | undefined>({});\r\n  const chartRef = useRef<unknown | any | undefined>({});\r\n  const [lotData, setLotData] = useState([\r\n    {\r\n      category: String,\r\n      value: Number,\r\n      sliceSettings: {\r\n        fill: am5.color('#00c5ff'),\r\n      },\r\n    },\r\n  ]);\r\n\r\n  const chartID = 'pie-two';\r\n\r\n  const [lotNumber, setLotNumber] = useState([]);\r\n  const [pteNumber, setPteNumber] = useState([]);\r\n\r\n  // 2.Mode of Acquisition\r\n  const barSeriesRef = useRef<unknown | any | undefined>({});\r\n  const yAxisRef = useRef<unknown | any | undefined>({});\r\n  const chartRef_moa = useRef<unknown | any | undefined>({});\r\n  const [lotMoaData, setLotMoaData] = useState([]);\r\n  const chartID_moa = 'land-moa';\r\n\r\n  // Query\r\n  const queryMunicipality = \"Municipality = '\" + municipal + \"'\";\r\n  const queryBarangay = \"Barangay = '\" + barangay + \"'\";\r\n  const queryMunicipalBarangay = queryMunicipality + ' AND ' + queryBarangay;\r\n\r\n  if (municipal && !barangay) {\r\n    lotLayer.definitionExpression = queryMunicipality;\r\n  } else if (barangay) {\r\n    lotLayer.definitionExpression = queryMunicipalBarangay;\r\n  }\r\n\r\n  useEffect(() => {\r\n    generateLotData().then((result: any) => {\r\n      setLotData(result);\r\n    });\r\n\r\n    // Lot number\r\n    generateLotNumber().then((response: any) => {\r\n      setLotNumber(response);\r\n    });\r\n\r\n    generatePermitEnter().then((response: any) => {\r\n      setPteNumber(response);\r\n    });\r\n\r\n    // Mode of Acquisition\r\n    generateLotMoaData().then((response: any) => {\r\n      setLotMoaData(response);\r\n    });\r\n  }, [municipal, barangay]);\r\n\r\n  // useLayoutEffect runs synchronously. If this is used with React.lazy,\r\n  // Every time calcite action is fired, the chart is fired, too.\r\n  // To avoid, use useEffect instead of useLayoutEffect\r\n\r\n  // 1. Pie Chart for Land Acquisition\r\n  useEffect(() => {\r\n    // Dispose previously created root element\r\n\r\n    maybeDisposeRoot(chartID);\r\n\r\n    var root = am5.Root.new(chartID);\r\n    root.container.children.clear();\r\n    root._logo?.dispose();\r\n\r\n    // Set themesf\r\n    // https://www.amcharts.com/docs/v5/concepts/themes/\r\n    root.setThemes([am5themes_Animated.new(root), am5themes_Responsive.new(root)]);\r\n\r\n    // Create chart\r\n    // https://www.amcharts.com/docs/v5/charts/percent-charts/pie-chart/\r\n    var chart = root.container.children.push(\r\n      am5percent.PieChart.new(root, {\r\n        //centerY: am5.percent(-2), //-10\r\n        y: am5.percent(-25), // space between pie chart and total lots\r\n        layout: root.horizontalLayout,\r\n      }),\r\n    );\r\n    chartRef.current = chart;\r\n\r\n    // Create series\r\n    // https://www.amcharts.com/docs/v5/charts/percent-charts/pie-chart/#Series\r\n    var pieSeries = chart.series.push(\r\n      am5percent.PieSeries.new(root, {\r\n        name: 'Series',\r\n        categoryField: 'category',\r\n        valueField: 'value',\r\n        //legendLabelText: \"[{fill}]{category}[/]\",\r\n        legendValueText: \"{valuePercentTotal.formatNumber('#.')}% ({value})\",\r\n        radius: am5.percent(45), // outer radius\r\n        innerRadius: am5.percent(20),\r\n        marginBottom: -10,\r\n      }),\r\n    );\r\n    pieSeriesRef.current = pieSeries;\r\n    chart.series.push(pieSeries);\r\n\r\n    // Set slice opacity and stroke color\r\n    pieSeries.slices.template.setAll({\r\n      fillOpacity: 0.9,\r\n      stroke: am5.color('#ffffff'),\r\n      strokeWidth: 1,\r\n      strokeOpacity: 1,\r\n      templateField: 'sliceSettings',\r\n    });\r\n\r\n    // Disabling labels and ticksll\r\n    pieSeries.labels.template.set('visible', false);\r\n    pieSeries.ticks.template.set('visible', false);\r\n\r\n    // EventDispatcher is disposed at SpriteEventDispatcher...\r\n    // It looks like this error results from clicking events\r\n    pieSeries.slices.template.events.on('click', (ev) => {\r\n      var Selected: any = ev.target.dataItem?.dataContext;\r\n      var Category: string = Selected.category;\r\n\r\n      var highlightSelect: any;\r\n      var SelectedStatus: number | null;\r\n\r\n      if (Category === statusLot[0]) {\r\n        SelectedStatus = 0;\r\n      } else if (Category === statusLot[1]) {\r\n        SelectedStatus = 1;\r\n      } else if (Category === statusLot[2]) {\r\n        SelectedStatus = 2;\r\n      } else if (Category === statusLot[3]) {\r\n        SelectedStatus = 3;\r\n      } else if (Category === statusLot[4]) {\r\n        SelectedStatus = 4;\r\n      } else if (Category === statusLot[5]) {\r\n        SelectedStatus = 5;\r\n      }\r\n\r\n      var query = lotLayer.createQuery();\r\n\r\n      view.when(function () {\r\n        view.whenLayerView(lotLayer).then((layerView): any => {\r\n          //chartLayerView = layerView;\r\n\r\n          lotLayer.queryFeatures(query).then(function (results) {\r\n            const RESULT_LENGTH = results.features;\r\n            const ROW_N = RESULT_LENGTH.length;\r\n\r\n            let objID = [];\r\n            for (var i = 0; i < ROW_N; i++) {\r\n              var obj = results.features[i].attributes.OBJECTID;\r\n              objID.push(obj);\r\n            }\r\n\r\n            var queryExt = new Query({\r\n              objectIds: objID,\r\n            });\r\n\r\n            lotLayer.queryExtent(queryExt).then(function (result) {\r\n              if (result.extent) {\r\n                view.goTo(result.extent);\r\n              }\r\n            });\r\n\r\n            if (highlightSelect) {\r\n              highlightSelect.remove();\r\n            }\r\n            highlightSelect = layerView.highlight(objID);\r\n\r\n            view.on('click', function () {\r\n              layerView.filter = new FeatureFilter({\r\n                where: undefined,\r\n              });\r\n              highlightSelect.remove();\r\n            });\r\n          }); // End of queryFeatures\r\n\r\n          layerView.filter = new FeatureFilter({\r\n            where: 'StatusLA = ' + SelectedStatus,\r\n          });\r\n        }); // End of view.whenLayerView\r\n      }); // End of view.whenv\r\n    });\r\n\r\n    pieSeries.data.setAll(lotData);\r\n\r\n    // Legend\r\n    // https://www.amcharts.com/docs/v5/charts/percent-charts/legend-percent-series/\r\n    var legend = root.container.children.push(\r\n      am5.Legend.new(root, {\r\n        centerX: am5.percent(50),\r\n        x: am5.percent(50),\r\n        y: am5.percent(48),\r\n        layout: root.verticalLayout,\r\n      }),\r\n    );\r\n    legendRef.current = legend;\r\n    legend.data.setAll(pieSeries.dataItems);\r\n\r\n    // Change the size of legend markers\r\n    legend.markers.template.setAll({\r\n      width: 18,\r\n      height: 18,\r\n    });\r\n\r\n    // Change the marker shape\r\n    legend.markerRectangles.template.setAll({\r\n      cornerRadiusTL: 10,\r\n      cornerRadiusTR: 10,\r\n      cornerRadiusBL: 10,\r\n      cornerRadiusBR: 10,\r\n    });\r\n\r\n    // Responsive legend\r\n    // https://www.amcharts.com/docs/v5/tutorials/pie-chart-with-a-legend-with-dynamically-sized-labels/\r\n    // This aligns Legend to Left\r\n    chart.onPrivate('width', function (width: any) {\r\n      const boxWidth = 190; //props.style.width;\r\n      var availableSpace = Math.max(width - chart.height() - boxWidth, boxWidth);\r\n      //var availableSpace = (boxWidth - valueLabelsWidth) * 0.7\r\n      legend.labels.template.setAll({\r\n        width: availableSpace,\r\n        maxWidth: availableSpace,\r\n      });\r\n    });\r\n\r\n    // To align legend items: valueLabels right, labels to left\r\n    // 1. fix width of valueLabels\r\n    // 2. dynamically change width of labels by screen size\r\n\r\n    // Change legend labelling properties\r\n    // To have responsive font size, do not set font size\r\n    legend.labels.template.setAll({\r\n      oversizedBehavior: 'truncate',\r\n      fill: am5.color('#ffffff'),\r\n      //textDecoration: \"underline\"\r\n      //width: am5.percent(200)\r\n      //fontWeight: \"300\"\r\n    });\r\n\r\n    legend.valueLabels.template.setAll({\r\n      textAlign: 'right',\r\n      //width: valueLabelsWidth,\r\n      fill: am5.color('#ffffff'),\r\n      //fontSize: LEGEND_FONT_SIZE,\r\n    });\r\n\r\n    legend.itemContainers.template.setAll({\r\n      // set space between legend items\r\n      paddingTop: 1.1,\r\n      paddingBottom: 2,\r\n    });\r\n\r\n    pieSeries.appear(1000, 100);\r\n\r\n    return () => {\r\n      root.dispose();\r\n    };\r\n  }, [chartID, lotData]);\r\n\r\n  useEffect(() => {\r\n    pieSeriesRef.current?.data.setAll(lotData);\r\n    legendRef.current?.data.setAll(pieSeriesRef.current.dataItems);\r\n  });\r\n\r\n  // Mode of Acquisition\r\n  useEffect(() => {\r\n    // Dispose previously created root element\r\n\r\n    maybeDisposeRoot(chartID_moa);\r\n\r\n    var root2 = am5.Root.new(chartID_moa);\r\n    root2.container.children.clear();\r\n    root2._logo?.dispose();\r\n\r\n    // Set themesf\r\n    // https://www.amcharts.com/docs/v5/concepts/themes/\r\n    root2.setThemes([am5themes_Animated.new(root2), am5themes_Responsive.new(root2)]);\r\n\r\n    // Create chart\r\n    // https://www.amcharts.com/docs/v5/charts/xy-chart/\r\n    var chart = root2.container.children.push(\r\n      am5xy.XYChart.new(root2, {\r\n        panX: false,\r\n        panY: false,\r\n        wheelX: 'none',\r\n        wheelY: 'none',\r\n        paddingLeft: 0,\r\n        marginTop: 20,\r\n        //height: am5.percent(81),\r\n      }),\r\n    );\r\n    chartRef_moa.current = chart;\r\n\r\n    // Create axes\r\n    // https://www.amcharts.com/docs/v5/charts/xy-chart/axes/\r\n    var yRenderer = am5xy.AxisRendererY.new(root2, {\r\n      minGridDistance: 5,\r\n      strokeOpacity: 1,\r\n      strokeWidth: 1,\r\n      inversed: true,\r\n      stroke: am5.color('#ffffff'),\r\n    });\r\n    yRenderer.grid.template.set('location', 1);\r\n\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.CategoryAxis.new(root2, {\r\n        maxDeviation: 0,\r\n        categoryField: 'category',\r\n        renderer: yRenderer,\r\n      }),\r\n    );\r\n\r\n    // Remove grid lines\r\n    yAxis.get('renderer').grid.template.set('forceHidden', true);\r\n\r\n    var xAxis = chart.xAxes.push(\r\n      am5xy.ValueAxis.new(root2, {\r\n        maxDeviation: 0,\r\n        min: 0,\r\n        strictMinMax: true,\r\n        calculateTotals: true,\r\n        renderer: am5xy.AxisRendererX.new(root2, {\r\n          visible: true,\r\n          strokeOpacity: 1,\r\n          strokeWidth: 1,\r\n          stroke: am5.color('#ffffff'),\r\n        }),\r\n      }),\r\n    );\r\n    // Remove grid lines\r\n    xAxis.get('renderer').grid.template.set('forceHidden', true);\r\n\r\n    // Label properties for yAxis (category axis)\r\n    yAxis.get('renderer').labels.template.setAll({\r\n      //oversizedBehavior: \"wrap\",\r\n      textAlign: 'center',\r\n      fill: am5.color('#ffffff'),\r\n      //maxWidth: 150,\r\n      fontSize: 12,\r\n    });\r\n\r\n    xAxis.get('renderer').labels.template.setAll({\r\n      fill: am5.color('#ffffff'),\r\n      fontSize: 10,\r\n    });\r\n\r\n    // Create series\r\n    // https://www.amcharts.com/docs/v5/charts/xy-chart/series/\r\n    var series = chart.series.push(\r\n      am5xy.ColumnSeries.new(root2, {\r\n        name: 'Series 1',\r\n        xAxis: xAxis,\r\n        yAxis: yAxis,\r\n        valueXField: 'value',\r\n        sequencedInterpolation: true,\r\n        categoryYField: 'category',\r\n      }),\r\n    );\r\n    barSeriesRef.current = series;\r\n    chart.series.push(series);\r\n\r\n    var columnTemplate = series.columns.template;\r\n\r\n    columnTemplate.setAll({\r\n      draggable: true,\r\n      cursorOverStyle: 'pointer',\r\n      tooltipText: '{value}',\r\n      cornerRadiusBR: 10,\r\n      cornerRadiusTR: 10,\r\n      strokeOpacity: 0,\r\n    });\r\n\r\n    // Add Label bullet\r\n    series.bullets.push(function () {\r\n      return am5.Bullet.new(root2, {\r\n        locationY: 1,\r\n        sprite: am5.Label.new(root2, {\r\n          text: '{value}',\r\n          fill: root2.interfaceColors.get('alternativeText'),\r\n          centerY: 8,\r\n          centerX: am5.p50,\r\n          fontSize: 13,\r\n          populateText: true,\r\n        }),\r\n      });\r\n    });\r\n\r\n    // Use different color by column\r\n    /*\r\n        columnTemplate.adapters.add('fill', (fill, target) => {\r\n          return chart.get('colors').getIndex(series.columns.indexOf(target));\r\n        });\r\n    \r\n        columnTemplate.adapters.add('stroke', (stroke, target) => {\r\n          return chart.get('colors').getIndex(series.columns.indexOf(target));\r\n        });\r\n        */\r\n\r\n    series.columns.template.events.on('click', function (ev) {\r\n      var Selected: any = ev.target.dataItem?.dataContext;\r\n      var Category: string = Selected.category;\r\n\r\n      var highlightSelect: any;\r\n      var SelectedStatus: number | null;\r\n\r\n      if (Category === statusMOA[0]) {\r\n        SelectedStatus = 1;\r\n      } else if (Category === statusMOA[1]) {\r\n        SelectedStatus = 2;\r\n      } else if (Category === statusMOA[2]) {\r\n        SelectedStatus = 3;\r\n      } else if (Category === statusMOA[3]) {\r\n        SelectedStatus = 4;\r\n      } else if (Category === statusMOA[4]) {\r\n        SelectedStatus = 5;\r\n      }\r\n\r\n      var query = lotLayer.createQuery();\r\n      view.whenLayerView(lotLayer).then(function (layerView) {\r\n        //CHART_ELEMENT.style.visibility = \"visible\";\r\n\r\n        lotLayer.queryFeatures(query).then(function (results) {\r\n          const RESULT_LENGTH = results.features;\r\n          const ROW_N = RESULT_LENGTH.length;\r\n\r\n          let objID = [];\r\n          for (var i = 0; i < ROW_N; i++) {\r\n            var obj = results.features[i].attributes.OBJECTID;\r\n            objID.push(obj);\r\n          }\r\n\r\n          var queryExt = new Query({\r\n            objectIds: objID,\r\n          });\r\n\r\n          lotLayer.queryExtent(queryExt).then(function (result) {\r\n            if (result.extent) {\r\n              view.goTo(result.extent);\r\n            }\r\n          });\r\n\r\n          if (highlightSelect) {\r\n            highlightSelect.remove();\r\n          }\r\n          highlightSelect = layerView.highlight(objID);\r\n\r\n          view.on('click', function () {\r\n            layerView.filter = new FeatureFilter({\r\n              where: undefined,\r\n            });\r\n            highlightSelect.remove();\r\n          });\r\n        });\r\n        layerView.filter = new FeatureFilter({\r\n          where: 'MoA = ' + SelectedStatus,\r\n        });\r\n      }); // End of whenLayerView\r\n    });\r\n\r\n    // Chart title\r\n    chart.children.unshift(\r\n      am5.Label.new(root2, {\r\n        text: 'MODE OF ACQUISITION',\r\n        fontSize: '1.0vw',\r\n        fontWeight: 'normal',\r\n        textAlign: 'left',\r\n        fill: am5.color('#f7f5f7'),\r\n        paddingTop: -15,\r\n        paddingLeft: 20,\r\n      }),\r\n    );\r\n\r\n    yAxisRef.current = yAxis;\r\n    yAxis.data.setAll(lotMoaData);\r\n    series.data.setAll(lotMoaData);\r\n\r\n    // Make stuff animate on load\r\n    // https://www.amcharts.com/docs/v5/concepts/animations/\r\n    series.appear(1000);\r\n    chart.appear(1000, 100);\r\n\r\n    return () => {\r\n      root2.dispose();\r\n    };\r\n  }, [chartID_moa, lotMoaData]);\r\n\r\n  useEffect(() => {\r\n    barSeriesRef.current?.data.setAll(lotMoaData);\r\n    yAxisRef.current?.data.setAll(lotMoaData);\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <div className=\"lotNumberImage\">\r\n        <div>\r\n          <div className=\"totalLotsLabel\">TOTAL LOTS</div>\r\n          <br />\r\n          <br />\r\n          <b className=\"totalLotsNumber\">\r\n            {thousands_separators(lotNumber[1])}{' '}\r\n            <div className=\"totalLotsNumber2\">({thousands_separators(lotNumber[0])})</div>\r\n          </b>\r\n        </div>\r\n        <img\r\n          src=\"https://EijiGorilla.github.io/Symbols/Land_logo.png\"\r\n          alt=\"Land Logo\"\r\n          height={'18%'}\r\n          width={'18%'}\r\n          style={{ padding: '10px', margin: 'auto' }}\r\n        />\r\n      </div>\r\n      <div\r\n        id={chartID}\r\n        style={{\r\n          height: '45vh',\r\n          backgroundColor: 'rgb(0,0,0,0)',\r\n          color: 'white',\r\n          marginBottom: '-1.5vh',\r\n        }}\r\n      ></div>\r\n      <div className=\"pteNumberImage\">\r\n        <div>\r\n          <div className=\"permitToEnterLabel\">PERMIT-TO-ENTER</div>\r\n          <br />\r\n          <br />\r\n          {/* if pte is 'Infinity, display 'N/A' else  */}\r\n          {pteNumber[0] === 'Infinity' ? (\r\n            <b className=\"permitToEnterNumber\">N/A</b>\r\n          ) : (\r\n            <b className=\"permitToEnterNumber\">\r\n              {pteNumber[0]}% ({thousands_separators(pteNumber[1])})\r\n            </b>\r\n          )}\r\n        </div>\r\n        <img\r\n          src=\"https://EijiGorilla.github.io/Symbols/Permit-To-Enter.png\"\r\n          alt=\"Land Logo\"\r\n          height={'18%'}\r\n          width={'18%'}\r\n          style={{ padding: '10px', margin: 'auto' }}\r\n        />\r\n      </div>\r\n      <div\r\n        id={chartID_moa}\r\n        style={{\r\n          height: '21vh',\r\n          backgroundColor: 'rgb(0,0,0,0)',\r\n          color: 'white',\r\n        }}\r\n      ></div>\r\n    </>\r\n  );\r\n}; // End of lotChartgs\r\n\r\nexport default LotChart;\r\n"],"names":["statusLot","statusMOA","maybeDisposeRoot","divId","am5","rootElements","root","dom","id","dispose","_ref","municipal","barangay","pieSeriesRef","useRef","legendRef","chartRef","lotData","setLotData","useState","category","String","value","Number","sliceSettings","fill","chartID","lotNumber","setLotNumber","pteNumber","setPteNumber","barSeriesRef","yAxisRef","chartRef_moa","lotMoaData","setLotMoaData","chartID_moa","queryMunicipality","queryMunicipalBarangay","lotLayer","definitionExpression","useEffect","generateLotData","then","result","generateLotNumber","response","generatePermitEnter","generateLotMoaData","_root$_logo","new","container","children","clear","_logo","setThemes","am5themes_Animated","am5themes_Responsive","chart","push","am5percent","y","layout","horizontalLayout","current","pieSeries","series","name","categoryField","valueField","legendValueText","radius","innerRadius","marginBottom","slices","template","setAll","fillOpacity","stroke","strokeWidth","strokeOpacity","templateField","labels","set","ticks","events","on","ev","_ev$target$dataItem","highlightSelect","SelectedStatus","Category","target","dataItem","dataContext","query","createQuery","view","when","whenLayerView","layerView","queryFeatures","results","ROW_N","features","length","objID","i","obj","attributes","OBJECTID","queryExt","Query","objectIds","queryExtent","extent","goTo","remove","highlight","filter","FeatureFilter","where","undefined","data","legend","centerX","x","verticalLayout","dataItems","markers","width","height","markerRectangles","cornerRadiusTL","cornerRadiusTR","cornerRadiusBL","cornerRadiusBR","onPrivate","availableSpace","Math","max","maxWidth","oversizedBehavior","valueLabels","textAlign","itemContainers","paddingTop","paddingBottom","appear","_pieSeriesRef$current","_legendRef$current","_root2$_logo","root2","am5xy","panX","panY","wheelX","wheelY","paddingLeft","marginTop","yRenderer","minGridDistance","inversed","grid","yAxis","yAxes","maxDeviation","renderer","get","xAxis","xAxes","min","strictMinMax","calculateTotals","visible","fontSize","valueXField","sequencedInterpolation","categoryYField","columns","draggable","cursorOverStyle","tooltipText","bullets","locationY","sprite","text","interfaceColors","centerY","populateText","_ev$target$dataItem2","unshift","fontWeight","_barSeriesRef$current","_yAxisRef$current","_jsxs","_Fragment","className","_jsx","thousands_separators","src","alt","style","padding","margin","backgroundColor","color"],"sourceRoot":""}