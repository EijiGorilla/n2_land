"use strict";(self.webpackChunkn2_land=self.webpackChunkn2_land||[]).push([[8477],{58477:(e,t,r)=>{r.r(t),r.d(t,{default:()=>U});var i=r(72791),n=r(36494),l=r(71656),a=r(18661),s=r(21149),o=r(36801),c=r(59181),u=r(66817),d=r(97304),f=r(70565),h=r(56343),g=r(54797),p=r(95494),m=r(44323),v=r(71570),x=r(52633),y=r(38487),w=r(39286),b=r(97873),T=r(27663),A=r(82308),S=r(80659),C=r(91934),E=r(77066),R=r(85580),k=r(26877),j=r(80184);function _(e){o.S6(c.i_.rootElements,(function(t){t.dom.id===e&&t.dispose()}))}const U=(0,i.memo)((e=>{let{municipal:t,barangay:r}=e;const o=(0,i.useRef)({}),c=(0,i.useRef)({}),U=(0,i.useRef)({}),[I,L]=(0,i.useState)([{category:String,value:Number,sliceSettings:{fill:u.$_("#00c5ff")}}]),Z="structure-chart",[O,F]=(0,i.useState)([]),z=(0,i.useRef)({}),B=(0,i.useRef)({}),D=(0,i.useRef)({}),[N,Q]=(0,i.useState)([{category:String,value:Number}]),$="structure-moa",X="Municipality = '"+t+"'",P=X+" AND "+("Barangay = '"+r+"'");return t&&!r?n.UC.definitionExpression=X:r&&(n.UC.definitionExpression=P),(0,i.useEffect)((()=>{(0,E.KD)(t,r).then((e=>{L(e)})),(0,E.fT)().then((e=>{F(e)})),(0,E.VV)(t,r).then((e=>{Q(e)}))}),[t,r]),(0,i.useEffect)((()=>{var e;_(Z);var t=d.f.new(Z);t.container.children.clear(),null===(e=t._logo)||void 0===e||e.dispose(),t.setThemes([S.Z.new(t),C.Z.new(t)]);C.Z.new(t);var r=t.container.children.push(T.u.new(t,{layout:t.verticalLayout}));U.current=r;var i=r.series.push(A.f.new(t,{name:"Series",categoryField:"category",valueField:"value",legendValueText:"{valuePercentTotal.formatNumber('#.')}% ({value})",radius:f.aQ(45),innerRadius:f.aQ(28),scale:2.2}));o.current=i,r.series.push(i);let p=i.children.push(h._.new(t,{text:"[#ffffff]{valueSum}[/]\n[fontSize: 5px; #d3d3d3; verticalAlign: super]STRUCTURES[/]",fontSize:13,centerX:f.aQ(50),centerY:f.aQ(40),populateText:!0,oversizedBehavior:"fit",textAlign:"center"}));i.onPrivate("width",(e=>{p.set("maxWidth",.7*e)})),i.slices.template.setAll({toggleKey:"none",fillOpacity:.9,stroke:u.$_("#ffffff"),strokeWidth:.5,strokeOpacity:1,templateField:"sliceSettings"}),i.labels.template.setAll({visible:!1,scale:0}),i.ticks.template.setAll({visible:!1,scale:0}),i.slices.template.events.on("click",(e=>{var t,r=(null===(t=e.target.dataItem)||void 0===t?void 0:t.dataContext).category;const i=k.D7.find((e=>e.category===r)),o=null===i||void 0===i?void 0:i.value;var c,u=n.UC.createQuery();l.ei.when((function(){l.ei.whenLayerView(n.UC).then((e=>{n.UC.queryFeatures(u).then((function(t){const r=t.features.length;let i=[];for(var o=0;o<r;o++){var u=t.features[o].attributes.OBJECTID;i.push(u)}var d=new s.Z({objectIds:i});n.UC.queryExtent(d).then((function(e){e.extent&&l.ei.goTo(e.extent)})),c&&c.remove(),c=e.highlight(i),l.ei.on("click",(function(){e.filter=new a.Z({where:void 0}),c.remove()}))})),e.filter=new a.Z({where:k.Us+" = "+o})}))}))})),i.data.setAll(I);var m=r.children.push(g.D.new(t,{centerX:f.aQ(50),x:f.aQ(50),scale:1.03}));c.current=m,m.data.setAll(i.dataItems),m.markers.template.setAll({width:18,height:18}),m.markerRectangles.template.setAll({cornerRadiusTL:10,cornerRadiusTR:10,cornerRadiusBL:10,cornerRadiusBR:10});return r.onPrivate("width",(function(e){var t=220*1.1;m.labels.template.setAll({width:t,maxWidth:t})})),m.labels.template.setAll({oversizedBehavior:"truncate",fill:u.$_("#ffffff")}),m.valueLabels.template.setAll({textAlign:"right",fill:u.$_("#ffffff")}),m.itemContainers.template.setAll({paddingTop:3,paddingBottom:1}),i.appear(1e3,100),()=>{t.dispose()}}),[Z,I]),(0,i.useEffect)((()=>{var e,t;null===(e=o.current)||void 0===e||e.data.setAll(I),null===(t=c.current)||void 0===t||t.data.setAll(o.current.dataItems)})),(0,i.useEffect)((()=>{var e;_($);var t=d.f.new($);t.container.children.clear(),null===(e=t._logo)||void 0===e||e.dispose(),t.setThemes([S.Z.new(t),C.Z.new(t)]);var r=t.container.children.push(m.z.new(t,{panX:!1,panY:!1,wheelX:"none",wheelY:"none"}));D.current=r;var i=v.j.new(t,{minGridDistance:5,strokeOpacity:1,strokeWidth:1,inversed:!0,stroke:u.$_("#ffffff")});i.grid.template.set("location",1);var o=r.yAxes.push(x.$.new(t,{maxDeviation:0,categoryField:"category",renderer:i}));o.get("renderer").grid.template.set("forceHidden",!0);var c=r.xAxes.push(y.m.new(t,{maxDeviation:0,min:0,strictMinMax:!0,calculateTotals:!0,renderer:w.n.new(t,{visible:!0,strokeOpacity:1,strokeWidth:1,stroke:u.$_("#ffffff")})}));c.get("renderer").grid.template.set("forceHidden",!0),o.get("renderer").labels.template.setAll({textAlign:"center",fill:u.$_("#ffffff"),fontSize:12}),c.get("renderer").labels.template.setAll({fill:u.$_("#ffffff"),fontSize:10});var g=r.series.push(b.d.new(t,{name:"Series 1",xAxis:c,yAxis:o,valueXField:"value",sequencedInterpolation:!0,categoryYField:"category"}));return z.current=g,r.series.push(g),g.columns.template.setAll({draggable:!0,cursorOverStyle:"pointer",tooltipText:"{value}",cornerRadiusBR:10,cornerRadiusTR:10,strokeOpacity:0}),g.bullets.push((function(){return p.g.new(t,{locationY:1,sprite:h._.new(t,{text:"{value}",fill:t.interfaceColors.get("alternativeText"),centerY:8,centerX:f.CI,fontSize:13,populateText:!0})})})),g.columns.template.events.on("click",(function(e){var t,r=(null===(t=e.target.dataItem)||void 0===t?void 0:t.dataContext).category;const i=k._6.find((e=>e.category===r)),o=null===i||void 0===i?void 0:i.value;var c,u=n.UC.createQuery();l.ei.whenLayerView(n.UC).then((function(e){n.UC.queryFeatures(u).then((function(t){const r=t.features.length;let i=[];for(var o=0;o<r;o++){var u=t.features[o].attributes.OBJECTID;i.push(u)}var d=new s.Z({objectIds:i});n.UC.queryExtent(d).then((function(e){e.extent&&l.ei.goTo(e.extent)})),c&&c.remove(),c=e.highlight(i),l.ei.on("click",(function(){e.filter=new a.Z({where:void 0}),c.remove()}))})),e.filter=new a.Z({where:k.nJ+" = "+o})}))})),B.current=o,o.data.setAll(N),g.data.setAll(N),g.appear(1e3),r.appear(1e3,100),()=>{t.dispose()}}),[$,N]),(0,i.useEffect)((()=>{var e,t;null===(e=z.current)||void 0===e||e.data.setAll(N),null===(t=B.current)||void 0===t||t.data.setAll(N)})),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{style:{display:"flex",marginTop:"3px",marginLeft:"15px",marginRight:"15px",justifyContent:"space-between"},children:[(0,j.jsxs)("dl",{style:{alignItems:"center"},children:[(0,j.jsx)("dt",{style:{color:k.X7,fontSize:"1.1rem"},children:"TOTAL STRUCTURES"}),(0,j.jsx)("dd",{style:{color:k.u8,fontSize:"1.9rem",fontWeight:"bold",fontFamily:"calibri",lineHeight:"1.2",margin:"auto"},children:(0,E.oc)(O[2])})]}),(0,j.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/House_Logo.svg",alt:"Structure Logo",height:"17%",width:"17%",style:{paddingTop:"5px",paddingLeft:"5px"}})]}),(0,j.jsx)("div",{id:Z,style:{height:"38vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginBottom:"7%"}}),(0,j.jsx)(R.ZK,{children:"PERMIT-TO-ENTER"}),(0,j.jsx)(R.ZK,{layout:"inline",children:0===O[1]?(0,j.jsxs)("b",{className:"permitToEnterNumber",children:[O[0],"% (0)",(0,j.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/Permit-To-Enter.png",alt:"Structure Logo",height:"18%",width:"18%",style:{marginLeft:"70%",display:"flex",marginTop:"-10%"}})]}):(0,j.jsxs)("b",{className:"permitToEnterNumber",style:{color:k.u8},children:[O[0],"% (",(0,E.oc)(O[1]),")",(0,j.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/Permit-To-Enter.png",alt:"Structure Logo",height:"18%",width:"18%",style:{marginLeft:"70%",display:"flex",marginTop:"-10%"}})]})}),(0,j.jsx)(R.ZK,{children:"MODE OF ACQUISITION"}),(0,j.jsx)("div",{id:$,style:{height:"21vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginTop:"-3%"}})]})}))}}]);
//# sourceMappingURL=8477.6b0ae8bc.chunk.js.map