"use strict";(self.webpackChunkn2_land=self.webpackChunkn2_land||[]).push([[8477],{58477:(e,t,r)=>{r.r(t),r.d(t,{default:()=>O});var i=r(72791),a=r(36494),n=r(47443),l=r(18661),s=r(21149),o=r(36801),c=r(59181),u=r(66817),d=r(97304),f=r(70565),h=r(54797),g=r(95494),p=r(56343),m=r(44323),v=r(71570),x=r(52633),w=r(38487),y=r(39286),b=r(97873),T=r(27663),A=r(82308),C=r(80659),E=r(91934),S=r(77066),k=r(85580),R=r(80184);const j=["Dismantling/Clearing","Paid","For Payment Processing","For Legal Pass","For Appraisal/Offer to Compensate","LBP Account Opening"],L=["For Negotiation","Expropriation","Donation","No Need to Acquire"];function N(e){o.S6(c.i_.rootElements,(function(t){t.dom.id===e&&t.dispose()}))}const O=(0,i.memo)((e=>{let{municipal:t,barangay:r}=e;const o=(0,i.useRef)({}),c=(0,i.useRef)({}),O=(0,i.useRef)({}),[Z,_]=(0,i.useState)([{category:String,value:Number,sliceSettings:{fill:u.$_("#00c5ff")}}]),F="structure-chart",[I,U]=(0,i.useState)([]),D=(0,i.useRef)({}),B=(0,i.useRef)({}),P=(0,i.useRef)({}),[$,M]=(0,i.useState)([{category:String,value:Number}]),Q="structure-moa",q="Municipality = '"+t+"'",K=q+" AND "+("Barangay = '"+r+"'");return t&&!r?a.UC.definitionExpression=q:r&&(a.UC.definitionExpression=K),(0,i.useEffect)((()=>{(0,S.KD)().then((e=>{_(e)})),(0,S.fT)().then((e=>{U(e)})),(0,S.VV)().then((e=>{M(e)}))}),[t,r]),(0,i.useEffect)((()=>{var e;N(F);var t=d.f.new(F);t.container.children.clear(),null===(e=t._logo)||void 0===e||e.dispose(),t.setThemes([C.Z.new(t),E.Z.new(t)]);var r=t.container.children.push(T.u.new(t,{layout:t.verticalLayout}));O.current=r;var i=r.series.push(A.f.new(t,{name:"Series",categoryField:"category",valueField:"value",legendValueText:"{valuePercentTotal.formatNumber('#.')}% ({value})",radius:f.aQ(45),innerRadius:f.aQ(20),scale:1.8}));o.current=i,r.series.push(i),i.slices.template.setAll({fillOpacity:.9,stroke:u.$_("#ffffff"),strokeWidth:.5,strokeOpacity:1,templateField:"sliceSettings"}),i.labels.template.set("visible",!1),i.ticks.template.set("visible",!1),i.slices.template.events.on("click",(e=>{var t,r,i,o=(null===(t=e.target.dataItem)||void 0===t?void 0:t.dataContext).category;o===j[0]?i=1:o===j[1]?i=2:o===j[2]?i=3:o===j[3]?i=4:o===j[4]?i=5:o===j[5]&&(i=6);var c=a.UC.createQuery();n.ei.when((function(){n.ei.whenLayerView(a.UC).then((e=>{a.UC.queryFeatures(c).then((function(t){const i=t.features.length;let o=[];for(var c=0;c<i;c++){var u=t.features[c].attributes.OBJECTID;o.push(u)}var d=new s.Z({objectIds:o});a.UC.queryExtent(d).then((function(e){e.extent&&n.ei.goTo(e.extent)})),r&&r.remove(),r=e.highlight(o),n.ei.on("click",(function(){e.filter=new l.Z({where:void 0}),r.remove()}))})),e.filter=new l.Z({where:"StatusStruc = "+i})}))}))})),i.data.setAll(Z);var g=r.children.push(h.D.new(t,{centerX:f.aQ(50),x:f.aQ(50)}));c.current=g,g.data.setAll(i.dataItems),g.markers.template.setAll({width:18,height:18}),g.markerRectangles.template.setAll({cornerRadiusTL:10,cornerRadiusTR:10,cornerRadiusBL:10,cornerRadiusBR:10}),r.onPrivate("width",(function(e){var t=Math.max(e-r.height()-190,190);g.labels.template.setAll({width:t,maxWidth:t})}));return g.labels.template.setAll({oversizedBehavior:"truncate",fill:u.$_("#ffffff")}),g.valueLabels.template.setAll({textAlign:"right",width:50,fill:u.$_("#ffffff")}),g.itemContainers.template.setAll({paddingTop:3,paddingBottom:1}),i.appear(1e3,100),()=>{t.dispose()}}),[F,Z]),(0,i.useEffect)((()=>{var e,t;null===(e=o.current)||void 0===e||e.data.setAll(Z),null===(t=c.current)||void 0===t||t.data.setAll(o.current.dataItems)})),(0,i.useEffect)((()=>{var e;N(Q);var t=d.f.new(Q);t.container.children.clear(),null===(e=t._logo)||void 0===e||e.dispose(),t.setThemes([C.Z.new(t),E.Z.new(t)]);var r=t.container.children.push(m.z.new(t,{panX:!1,panY:!1,wheelX:"none",wheelY:"none"}));P.current=r;var i=v.j.new(t,{minGridDistance:5,strokeOpacity:1,strokeWidth:1,inversed:!0,stroke:u.$_("#ffffff")});i.grid.template.set("location",1);var o=r.yAxes.push(x.$.new(t,{maxDeviation:0,categoryField:"category",renderer:i}));o.get("renderer").grid.template.set("forceHidden",!0);var c=r.xAxes.push(w.m.new(t,{maxDeviation:0,min:0,strictMinMax:!0,calculateTotals:!0,renderer:y.n.new(t,{visible:!0,strokeOpacity:1,strokeWidth:1,stroke:u.$_("#ffffff")})}));c.get("renderer").grid.template.set("forceHidden",!0),o.get("renderer").labels.template.setAll({textAlign:"center",fill:u.$_("#ffffff"),fontSize:12}),c.get("renderer").labels.template.setAll({fill:u.$_("#ffffff"),fontSize:10});var h=r.series.push(b.d.new(t,{name:"Series 1",xAxis:c,yAxis:o,valueXField:"value",sequencedInterpolation:!0,categoryYField:"category"}));return D.current=h,r.series.push(h),h.columns.template.setAll({draggable:!0,cursorOverStyle:"pointer",tooltipText:"{value}",cornerRadiusBR:10,cornerRadiusTR:10,strokeOpacity:0}),h.bullets.push((function(){return g.g.new(t,{locationY:1,sprite:p._.new(t,{text:"{value}",fill:t.interfaceColors.get("alternativeText"),centerY:8,centerX:f.CI,fontSize:13,populateText:!0})})})),h.columns.template.events.on("click",(function(e){var t,r,i,o=(null===(t=e.target.dataItem)||void 0===t?void 0:t.dataContext).category;o===L[0]?i=1:o===L[1]?i=2:o===L[2]?i=3:o===L[3]&&(i=4);var c=a.UC.createQuery();n.ei.whenLayerView(a.UC).then((function(e){a.UC.queryFeatures(c).then((function(t){const i=t.features.length;let o=[];for(var c=0;c<i;c++){var u=t.features[c].attributes.OBJECTID;o.push(u)}var d=new s.Z({objectIds:o});a.UC.queryExtent(d).then((function(e){e.extent&&n.ei.goTo(e.extent)})),r&&r.remove(),r=e.highlight(o),n.ei.on("click",(function(){e.filter=new l.Z({where:void 0}),r.remove()}))})),e.filter=new l.Z({where:"MoA = "+i})}))})),B.current=o,o.data.setAll($),h.data.setAll($),h.appear(1e3),r.appear(1e3,100),()=>{t.dispose()}}),[Q,$]),(0,i.useEffect)((()=>{var e,t;null===(e=D.current)||void 0===e||e.data.setAll($),null===(t=B.current)||void 0===t||t.data.setAll($)})),(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(k.ZK,{children:"TOTAL STRUCTURES"}),(0,R.jsx)(k.ZK,{layout:"inline",children:(0,R.jsxs)("b",{className:"totalLotsNumber",children:[(0,S.oc)(I[2]),(0,R.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/House_Logo.svg",alt:"Structure Logo",height:"35%",width:"35%",style:{marginLeft:"120%",display:"flex",marginTop:"-22%"}})]})}),(0,R.jsx)("div",{id:F,style:{height:"37vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginBottom:"7%"}}),(0,R.jsx)(k.ZK,{children:"PERMIT-TO-ENTER"}),(0,R.jsx)(k.ZK,{layout:"inline",children:0===I[1]?(0,R.jsxs)("b",{className:"permitToEnterNumber",children:[I[0],"% (0)",(0,R.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/Permit-To-Enter.png",alt:"Structure Logo",height:"18%",width:"18%",style:{marginLeft:"70%",display:"flex",marginTop:"-10%"}})]}):(0,R.jsxs)("b",{className:"permitToEnterNumber",children:[I[0],"% (",(0,S.oc)(I[1]),")",(0,R.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/Permit-To-Enter.png",alt:"Structure Logo",height:"18%",width:"18%",style:{marginLeft:"70%",display:"flex",marginTop:"-10%"}})]})}),(0,R.jsx)(k.ZK,{children:"MODE OF ACQUISITION"}),(0,R.jsx)("div",{id:Q,style:{height:"21vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginTop:"-3%"}})]})}))}}]);
//# sourceMappingURL=8477.db47346c.chunk.js.map