"use strict";(self.webpackChunkn2_land=self.webpackChunkn2_land||[]).push([[7171],{97171:(e,t,i)=>{i.r(t),i.d(t,{default:()=>A});var a=i(72791),n=i(36494),r=i(47443),l=i(18661),s=i(21149),o=i(36801),c=i(59181),u=i(66817),d=i(97304),f=i(70565),h=i(54797),m=i(27663),v=i(82308),p=i(80659),g=i(91934),x=i(77066),w=i(85580),y=i(80184);const b=["Relocated","Paid","For Payment Processing","For Legal Pass","For Appraisal/OtC/Requirements for Other Entitlements","LBP Account Opening"];const A=(0,a.memo)((e=>{let{municipal:t,barangay:i}=e;const A=(0,a.useRef)({}),R=(0,a.useRef)({}),E=(0,a.useRef)({}),[L,k]=(0,a.useState)([{category:String,value:Number,sliceSettings:{fill:u.$_("#00c5ff")}}]),[T,N]=(0,a.useState)(0),O="nlo-chart",S="Municipality = '"+t+"'",P=S+" AND "+("Barangay = '"+i+"'");return t&&!i?(n.vx.definitionExpression=S,n.tP.definitionExpression=S):i&&(n.vx.definitionExpression=P,n.tP.definitionExpression=P),(0,a.useEffect)((()=>{(0,x.nf)().then((e=>{k(e)})),(0,x.wU)().then((e=>{N(e)}))}),[t,i]),(0,a.useEffect)((()=>{var e,t;t=O,o.S6(c.i_.rootElements,(function(e){e.dom.id===t&&e.dispose()}));var i=d.f.new(O);i.container.children.clear(),null===(e=i._logo)||void 0===e||e.dispose(),i.setThemes([p.Z.new(i),g.Z.new(i)]);var a=i.container.children.push(m.u.new(i,{layout:i.verticalLayout}));E.current=a;var x=a.series.push(v.f.new(i,{name:"Series",categoryField:"category",valueField:"value",legendValueText:"{valuePercentTotal.formatNumber('#.')}% ({value})",radius:f.aQ(45),innerRadius:f.aQ(20),scale:1.8}));A.current=x,a.series.push(x),x.slices.template.setAll({fillOpacity:.9,stroke:u.$_("#ffffff"),strokeWidth:.5,strokeOpacity:1,templateField:"sliceSettings"}),x.labels.template.set("visible",!1),x.ticks.template.set("visible",!1),x.slices.template.events.on("click",(e=>{var t,i,a,o=(null===(t=e.target.dataItem)||void 0===t?void 0:t.dataContext).category;o===b[0]?a=1:o===b[1]?a=2:o===b[2]?a=3:o===b[3]?a=4:o===b[4]?a=5:o===b[5]&&(a=6);var c=n.vx.createQuery();r.ei.when((function(){r.ei.whenLayerView(n.vx).then((e=>{n.vx.queryFeatures(c).then((function(t){const a=t.features.length;let o=[];for(var c=0;c<a;c++){var u=t.features[c].attributes.OBJECTID;o.push(u)}var d=new s.Z({objectIds:o});n.vx.queryExtent(d).then((function(e){e.extent&&r.ei.goTo(e.extent)})),i&&i.remove(),i=e.highlight(o),r.ei.on("click",(function(){e.filter=new l.Z({where:void 0}),i.remove()}))})),e.filter=new l.Z({where:"StatusRC = "+a})}))}))})),x.data.setAll(L);var w=a.children.push(h.D.new(i,{centerX:f.aQ(50),x:f.aQ(50)}));R.current=w,w.data.setAll(x.dataItems),w.markers.template.setAll({width:18,height:18}),w.markerRectangles.template.setAll({cornerRadiusTL:10,cornerRadiusTR:10,cornerRadiusBL:10,cornerRadiusBR:10}),a.onPrivate("width",(function(e){var t=Math.max(e-a.height()-190,190);w.labels.template.setAll({width:t,maxWidth:t})}));return w.labels.template.setAll({oversizedBehavior:"truncate",fill:u.$_("#ffffff")}),w.valueLabels.template.setAll({textAlign:"right",width:50,fill:u.$_("#ffffff")}),w.itemContainers.template.setAll({paddingTop:3,paddingBottom:1}),x.appear(1e3,100),()=>{i.dispose()}}),[O,L]),(0,a.useEffect)((()=>{var e,t;null===(e=A.current)||void 0===e||e.data.setAll(L),null===(t=R.current)||void 0===t||t.data.setAll(A.current.dataItems)})),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(w.ZK,{children:"TOTAL NON-LAND OWNERS"}),(0,y.jsx)(w.ZK,{layout:"inline",children:(0,y.jsxs)("b",{className:"permitToEnterNumber",children:[(0,x.oc)(T),(0,y.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/NLO_Logo.svg",alt:"NLO Logo",height:"55%",width:"55%",style:{marginLeft:"200%",display:"flex",marginTop:"-17%"}})]})}),(0,y.jsx)("div",{id:O,style:{height:"40vh",backgroundColor:"rgb(0,0,0,0)",color:"white"}})]})}))}}]);
//# sourceMappingURL=7171.5f012d76.chunk.js.map