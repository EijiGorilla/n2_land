"use strict";(self.webpackChunkn2_land=self.webpackChunkn2_land||[]).push([[4427],{54427:(t,e,i)=>{i.r(e),i.d(e,{default:()=>C});var a=i(72791),s=i(36801),n=i(59181),r=i(97304),o=i(56343),l=i(66817),d=i(70565),h=i(12657),g=i(95494),m=i(44323),u=i(71570),c=i(24358),x=i(66683),f=i(83661),p=i(14628),I=i(70369);class _ extends c.R{constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_itemMap",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=p.Fy(this._settings.themeTags,["axis"]),this.fields.push("category"),this.setPrivateRaw("name","category"),this.addTag("category"),super._afterNew()}_prepareChildren(){super._prepareChildren();const t=this.dataItems.length;let e=0;this._valuesDirty&&(this._itemMap={},s.S6(this.dataItems,(t=>{t.setRaw("index",e),this._itemMap[t.get("category")]=t,e++})),this.setPrivateRaw("maxZoomFactor",t)),this.setPrivateRaw("startIndex",Math.max(Math.round(this.get("start",0)*t),0)),this.setPrivateRaw("endIndex",Math.min(Math.round(this.get("end",1)*t),t)),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("endIndex")||this.isPrivateDirty("startIndex")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&this.dataItems.length>0&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges())}_handleRangeChange(){s.S6(this.series,(t=>{let e=this.dataItems[this.startIndex()].get("category"),i=this.dataItems[this.endIndex()-1].get("category"),a=t.get("baseAxis"),n=t.get("xAxis"),r=t.get("yAxis");if(n instanceof _&&r instanceof _)t._markDirtyAxes();else if(a===this){let o,l,d=r;if(n===a?(t.get("categoryXField")&&(o="categoryX"),t.get("openCategoryXField")&&(l="openCategoryX")):r===a&&(t.get("categoryYField")&&(o="categoryY"),t.get("openCategoryYField")&&(l="openCategoryY"),d=n),"ValueAxis"==d.className&&(o||l)){let a,n;for(let i=0,s=t.dataItems.length;i<s;i++){let s=t.dataItems[i];if(o&&s.get(o)===e){a=s;break}if(l&&s.get(l)===e){a=s;break}}for(let e=t.dataItems.length-1;e>=0;e--){let a=t.dataItems[e];if(o&&a.get(o)===i){n=a;break}if(l&&a.get(l)===i){n=a;break}}let r=0,d=t.dataItems.length;a&&(r=t.dataItems.indexOf(a)),n&&(d=t.dataItems.indexOf(n)+1),t.setPrivate("startIndex",r),t.setPrivate("endIndex",d);let h=!1;for(let e=r;e<d;e++){const i=t.dataItems[e];if(s.S6(t.__valueXShowFields,(t=>{null!=i.get(t)&&(h=!0)})),s.S6(t.__valueYShowFields,(t=>{null!=i.get(t)&&(h=!0)})),h)break}t.setPrivate("outOfSelection",!h)}t._markDirtyAxes()}}))}_prepareAxisItems(){const t=this.get("renderer"),e=this.dataItems.length;let i=this.startIndex();i>0&&i--;let a=this.endIndex();a<e&&a++;let s=t.axisLength()/Math.max(t.get("minGridDistance"),1/Number.MAX_SAFE_INTEGER),n=Math.max(1,Math.min(e,Math.ceil((a-i)/s)));i=Math.floor(i/n)*n,this._frequency=n;for(let o=0;o<e;o++)this._toggleDataItem(this.dataItems[o],!1);let r=this.dataItems[i].get("index",0);for(let o=i;o<a;o+=n){let t=this.dataItems[o];this._createAssets(t,[]),this._toggleDataItem(t,!0),this._prepareDataItem(t,r,n),r++}this._updateGhost()}_prepareDataItem(t,e,i){let a=this.get("renderer"),s=t.get("categoryLocation",0),n=t.get("endCategoryLocation",1),r=t.get("index");x.hj(r)||(r=this.categoryToIndex(t.get("category")));let o,l=this.indexToPosition(r,s),d=t.get("endCategory");d?(o=this.categoryToIndex(d),x.hj(o)||(o=r)):o=r;let h,g,m=this.indexToPosition(o,n);h=t.get("isRange")?o:r+this._frequency-1,g=this.indexToPosition(h,n),a.updateLabel(t.get("label"),l,m,i),a.updateGrid(t.get("grid"),l,m),a.updateTick(t.get("tick"),l,m,i),a.updateFill(t.get("axisFill"),l,g),this._processBullet(t),a.updateBullet(t.get("bullet"),l,m);const u=this.get("fillRule");u&&u(t,e)}startIndex(){let t=this.dataItems.length;return Math.min(Math.max(this.getPrivate("startIndex",0),0),t-1)}endIndex(){let t=this.dataItems.length;return Math.max(1,Math.min(this.getPrivate("endIndex",t),t))}baseValue(){}basePosition(){return 0}getX(t){let e=this._itemMap[t];return e?this._settings.renderer.positionToCoordinate(this.indexToPosition(e.get("index",0))):NaN}getY(t){let e=this._itemMap[t];return e?this._settings.renderer.positionToCoordinate(this.indexToPosition(e.get("index",0))):NaN}getDataItemPositionX(t,e,i,a){const s=t.get(e),n=this._itemMap[s];return n?this.indexToPosition(n.get("index",0),i):NaN}getDataItemCoordinateX(t,e,i,a){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(t,e,i,a))}getDataItemPositionY(t,e,i,a){const s=t.get(e),n=this._itemMap[s];return n?this.indexToPosition(n.get("index",0),i):NaN}getDataItemCoordinateY(t,e,i,a){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(t,e,i,a))}indexToPosition(t,e){x.hj(e)||(e=.5);let i=this.dataItems.length,a=this.get("startLocation",0);i-=a,i-=1-this.get("endLocation",1);let s=(t+e-a)/i,n=this.dataItems[t];return n&&(s+=n.get("deltaPosition",0)),s}categoryToIndex(t){let e=this._itemMap[t];return e?e.get("index"):NaN}dataItemToPosition(t){return this.indexToPosition(t.get("index"))}roundAxisPosition(t,e){return t+=(.5-e)/this.dataItems.length,this.indexToPosition(this.axisPositionToIndex(t),e)}axisPositionToIndex(t){let e=this.dataItems.length;return f.C7(Math.floor(t*e),0,e-1)}getTooltipText(t,e){const i=this.dataItems[this.axisPositionToIndex(t)];if(i){const t=i.get("label");if(t)return(0,I.q)(t,this.get("tooltipText",""))}}_updateTooltipText(t,e){t._setDataItem(this.dataItems[this.axisPositionToIndex(e)]),t.label.text.markDirtyText()}getSeriesItem(t,e){if(this.dataItems.length>0){let i=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),a=this.axisPositionToIndex(e),s=t.dataItems[a],n=this.dataItems[a],r=n.get("category");if(s&&n&&s.get(i)===r)return s;for(let e=0,o=t.dataItems.length;e<o;e++){let a=t.dataItems[e];if(a.get(i)===r)return a}}}zoomToIndexes(t,e,i){let a=this.dataItems.length;this.zoom(t/a,e/a,i)}zoomToCategories(t,e,i){this.zoomToIndexes(this.categoryToIndex(t),this.categoryToIndex(e)+1,i)}getCellWidthPosition(){return this._frequency/this.dataItems.length/(this.get("end",1)-this.get("start",0))}}Object.defineProperty(_,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CategoryAxis"}),Object.defineProperty(_,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:c.R.classNames.concat([_.className])});var y=i(39286),v=i(38487),b=i(97873),P=i(80659),T=i(91934),w=i(77066),A=i(80184);const C=(0,a.memo)((()=>{const t=(0,a.useRef)({}),[e,i]=(0,a.useState)([]),c="lot-handedover";return(0,a.useEffect)((()=>{(0,w.xs)().then((t=>{i(t)}))}),[]),(0,a.useEffect)((()=>{var i,a;a=c,s.S6(n.i_.rootElements,(function(t){t.dom.id===a&&t.dispose()}));var x=r.f.new(c);x.container.children.clear(),null===(i=x._logo)||void 0===i||i.dispose(),x.setThemes([P.Z.new(x),T.Z.new(x)]);var f=x.container.children.push(m.z.new(x,{panX:!1,panY:!1,wheelX:"panY",wheelY:"zoomY",layout:x.verticalLayout}));t.current=f,f.children.unshift(o._.new(x,{text:"Handed-Over Area (m2)",fontSize:14,fontWeight:"bold",textAlign:"center",fill:l.$_("#ffffff"),x:d.aQ(50),centerX:d.aQ(50),paddingTop:0,paddingBottom:0}));var p=u.j.new(x,{strokeOpacity:1,strokeWidth:1,stroke:l.$_("#ffffff")}),I=f.yAxes.push(_.new(x,{categoryField:"category",renderer:p,tooltip:h.u.new(x,{})}));I.get("renderer").labels.template.setAll({textAlign:"center",fill:l.$_("#ffffff"),fontSize:12}),p.grid.template.setAll({location:1}),I.data.setAll(e);var w=y.n.new(x,{strokeOpacity:1,strokeWidth:1,stroke:l.$_("#ffffff")});w.labels.template.set("visible",!1);var A=f.xAxes.push(v.m.new(x,{min:0,max:100,strictMinMax:!0,calculateTotals:!0,renderer:w}));return function(t,i){var a=f.series.push(b.d.new(x,{name:t,stacked:!0,xAxis:A,yAxis:I,baseAxis:I,valueXShow:"valueXTotalPercent",valueXField:i,categoryYField:"category",fill:l.$_("#0070ff")}));a.columns.template.setAll({}),a.data.setAll(e),a.appear(),a.bullets.push((function(){return g.g.new(x,{sprite:o._.new(x,{text:"{valueX}%",fill:l.$_("#ffffff"),centerY:d.CI,centerX:d.CI,populateText:!0,fontSize:12})})}))}("Value","value"),f.appear(1e3,100),()=>{x.dispose()}}),[c,e]),(0,A.jsx)(A.Fragment,{children:(0,A.jsx)("div",{id:c,style:{height:"35vh",width:"30%",backgroundColor:"#2b2b2b",color:"white",position:"absolute",zIndex:99,bottom:10,marginLeft:"1vw",marginRight:"auto"}})})}))}}]);
//# sourceMappingURL=4427.7f950262.chunk.js.map